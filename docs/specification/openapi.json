{"info":{"title":"Vector DB API","version":"2.0.0","description":"A simple vector database API built on Cloudflare Workers with Vectorize and Workers AI"},"servers":[{"url":"https://vector-db.m-tama-ramu.workers.dev","description":"Production server"},{"url":"http://localhost:8787","description":"Development server"}],"openapi":"3.0.0","components":{"schemas":{},"parameters":{}},"paths":{"/":{"get":{"tags":["Health"],"summary":"Health check","description":"Check API status and get available endpoints","responses":{"200":{"description":"API is healthy","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","example":"ok"},"service":{"type":"string","example":"Vector DB"},"version":{"type":"string","example":"2.0.0"},"endpoints":{"type":"array","items":{"type":"string"},"description":"Available API endpoints","example":["POST /api/embeddings","POST /api/vectors"]}},"required":["status","service","version","endpoints"],"title":"HealthResponse","description":"Health check response"}}}}}}},"/api/embeddings":{"post":{"tags":["Embeddings"],"summary":"Generate single embedding","description":"Generate an embedding vector for a single text input","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"text":{"type":"string","minLength":1,"description":"Text to generate embedding for","example":"Hello world"},"model":{"type":"string","description":"Embedding model to use (optional)","example":"@cf/baai/bge-base-en-v1.5"}},"required":["text"],"title":"EmbeddingRequest","description":"Request to generate a single embedding"}}}},"responses":{"200":{"description":"Embedding generated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"embedding":{"type":"array","items":{"type":"number"},"description":"Generated embedding vector","example":[0.1,0.2,0.3,-0.1,0.5]},"model":{"type":"string","description":"Model used for embedding","example":"@cf/baai/bge-base-en-v1.5"},"dimensions":{"type":"number","description":"Number of dimensions in the embedding","example":768}},"required":["embedding","model","dimensions"]}},"required":["success","data"],"title":"EmbeddingResponse","description":"Single embedding generation response"}}}},"400":{"description":"Invalid request data","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"401":{"description":"Unauthorized - API key required in production","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/embeddings/batch":{"post":{"tags":["Embeddings"],"summary":"Generate batch embeddings","description":"Generate embedding vectors for multiple text inputs (1-100 texts)","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"texts":{"type":"array","items":{"type":"string","minLength":1},"minItems":1,"maxItems":100,"description":"Array of texts to generate embeddings for (1-100 items)","example":["Hello world","How are you?"]},"model":{"type":"string","description":"Embedding model to use (optional)","example":"@cf/baai/bge-base-en-v1.5"}},"required":["texts"],"title":"BatchEmbeddingRequest","description":"Request to generate multiple embeddings"}}}},"responses":{"200":{"description":"Embeddings generated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"embeddings":{"type":"array","items":{"type":"array","items":{"type":"number"}},"description":"Array of generated embedding vectors","example":[[0.1,0.2],[0.3,0.4]]},"count":{"type":"number","description":"Number of embeddings generated","example":2},"model":{"type":"string","description":"Model used for embeddings","example":"@cf/baai/bge-base-en-v1.5"},"dimensions":{"type":"number","description":"Number of dimensions per embedding","example":768}},"required":["embeddings","count","model","dimensions"]}},"required":["success","data"],"title":"BatchEmbeddingResponse","description":"Batch embedding generation response"}}}},"400":{"description":"Invalid request data","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/vectors":{"post":{"tags":["Vectors"],"summary":"Create vector","description":"Store a new vector with optional metadata","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"Custom ID for the vector (optional, will be generated if not provided)","example":"doc-123"},"values":{"type":"array","items":{"type":"number"},"description":"Vector values (embedding)","example":[0.1,0.2,0.3,-0.1,0.5]},"metadata":{"type":"object","additionalProperties":{"nullable":true},"description":"Optional metadata for the vector","example":{"category":"document","source":"api"}}},"required":["values"],"title":"CreateVector","description":"Request to create a new vector"}}}},"responses":{"200":{"description":"Vector created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"id":{"type":"string","description":"Vector ID","example":"vec_1234567890_abc123def"}},"required":["id"]},"message":{"type":"string","description":"Success message","example":"Vector created successfully"}},"required":["success","data","message"],"title":"VectorResponse","description":"Vector creation response"}}}},"400":{"description":"Invalid request data","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}},"get":{"tags":["Vectors"],"summary":"List vectors","description":"Get a paginated list of vector metadata from D1 database","parameters":[{"schema":{"type":"string","description":"Number of vectors to return (1-1000)","example":"100"},"required":false,"description":"Number of vectors to return (1-1000)","name":"limit","in":"query"},{"schema":{"type":"string","description":"Number of vectors to skip","example":"0"},"required":false,"description":"Number of vectors to skip","name":"offset","in":"query"}],"responses":{"200":{"description":"List of vector metadata","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"vectors":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"vec_123"},"dimensions":{"type":"number","example":768},"metadata":{"nullable":true,"example":{"source":"document"}},"createdAt":{"type":"string","example":"2023-01-01T00:00:00.000Z"},"updatedAt":{"type":"string","example":"2023-01-01T00:00:00.000Z"}},"required":["id","dimensions","createdAt","updatedAt"]},"description":"Array of vector metadata"},"total":{"type":"number","description":"Total number of vectors","example":1000},"limit":{"type":"number","description":"Limit used for this request","example":100},"offset":{"type":"number","description":"Offset used for this request","example":0}},"required":["vectors","total","limit","offset"]}},"required":["success","data"],"title":"ListVectorsResponse","description":"List of vector metadata with pagination info"}}}},"400":{"description":"Invalid request parameters","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/vectors/batch":{"post":{"tags":["Vectors"],"summary":"Batch create vectors","description":"Create multiple vectors in a single request","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"Custom ID for the vector (optional, will be generated if not provided)","example":"doc-123"},"values":{"type":"array","items":{"type":"number"},"description":"Vector values (embedding)","example":[0.1,0.2,0.3,-0.1,0.5]},"metadata":{"type":"object","additionalProperties":{"nullable":true},"description":"Optional metadata for the vector","example":{"category":"document","source":"api"}}},"required":["values"],"title":"CreateVector","description":"Request to create a new vector"},"title":"BatchCreateVectors","description":"Array of vectors to create"}}}},"responses":{"200":{"description":"Vectors created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"nullable":true,"description":"Response data"},"message":{"type":"string","description":"Success message","example":"Operation completed successfully"}},"required":["success"],"title":"SuccessResponse","description":"Successful API response"}}}},"400":{"description":"Invalid request data","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/vectors/all":{"delete":{"tags":["Vectors"],"summary":"Delete multiple vectors","description":"Delete multiple vectors by providing a list of vector IDs","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"vectorIds":{"type":"array","items":{"type":"string"},"minItems":1,"description":"Array of vector IDs to delete","example":["vec_123","vec_456","vec_789"]}},"required":["vectorIds"],"title":"DeleteAllVectorsRequest","description":"Request to delete multiple vectors by their IDs"}}}},"responses":{"200":{"description":"All vectors deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"deletedCount":{"type":"number","description":"Total number of vectors deleted","example":156},"batchCount":{"type":"number","description":"Number of deletion batches processed","example":3}},"required":["deletedCount","batchCount"]},"message":{"type":"string","description":"Success message","example":"All vectors deleted successfully"}},"required":["success","data","message"],"title":"DeleteAllVectorsResponse","description":"Delete all vectors operation response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/vectors/from-text":{"post":{"tags":["Vectors"],"summary":"Create vector from text","description":"Generate embedding from text and store as vector using Cloudflare Workflow","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"text":{"type":"string","minLength":1,"description":"Text to convert to vector","example":"Hello world"},"id":{"type":"string","description":"Custom vector ID (optional)","example":"my-vector-1"},"metadata":{"type":"object","additionalProperties":{"nullable":true},"description":"Optional metadata","example":{"category":"greeting","language":"en"}}},"required":["text"],"title":"TextToVectorRequest","description":"Request to create vector from text"}}}},"responses":{"200":{"description":"Workflow started successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"vectorId":{"type":"string"},"workflowId":{"type":"string"},"status":{"type":"string"}},"required":["vectorId","workflowId","status"]},"message":{"type":"string"}},"required":["success","data","message"]}}}},"400":{"description":"Invalid request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/workflows":{"get":{"tags":["Workflow"],"summary":"List all workflows","description":"Get a list of all text-to-vector workflow instances","responses":{"200":{"description":"Workflow list retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"workflows":{"type":"array","items":{"nullable":true}},"total":{"type":"number"}},"required":["workflows","total"]}},"required":["success","data"]}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/workflow/{workflowId}/status":{"get":{"tags":["Workflow"],"summary":"Get workflow status","description":"Get the status of a text-to-vector workflow by ID","parameters":[{"schema":{"type":"string","description":"Workflow ID","example":"wf_123456789"},"required":true,"description":"Workflow ID","name":"workflowId","in":"path"}],"responses":{"200":{"description":"Workflow status retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"data":{"type":"object","properties":{"workflowId":{"type":"string"},"status":{"type":"string"},"output":{"nullable":true}},"required":["workflowId","status"]}},"required":["success","data"]}}}},"404":{"description":"Workflow not found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/vectors/{id}":{"get":{"tags":["Vectors"],"summary":"Get vector by ID","description":"Retrieve a vector by its ID","parameters":[{"schema":{"type":"string","description":"Vector ID","example":"vec_1234567890_abc123def"},"required":true,"description":"Vector ID","name":"id","in":"path"}],"responses":{"200":{"description":"Vector retrieved successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"nullable":true,"description":"Response data"},"message":{"type":"string","description":"Success message","example":"Operation completed successfully"}},"required":["success"],"title":"SuccessResponse","description":"Successful API response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"404":{"description":"Vector not found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}},"delete":{"tags":["Vectors"],"summary":"Delete vector by ID","description":"Remove a vector by its ID","parameters":[{"schema":{"type":"string","description":"Vector ID to delete","example":"vec_1234567890_abc123def"},"required":true,"description":"Vector ID to delete","name":"id","in":"path"}],"responses":{"200":{"description":"Vector deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"nullable":true,"description":"Response data"},"message":{"type":"string","description":"Success message","example":"Operation completed successfully"}},"required":["success"],"title":"SuccessResponse","description":"Successful API response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"404":{"description":"Vector not found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}},"/api/search":{"post":{"tags":["Search"],"summary":"Vector similarity search","description":"Find similar vectors by providing either a vector or text query","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"vector":{"type":"array","items":{"type":"number"},"description":"Query vector for similarity search","example":[0.1,0.2,0.3]},"text":{"type":"string","description":"Text to convert to vector for search","example":"search query text"},"topK":{"type":"integer","minimum":1,"maximum":100,"default":10,"description":"Number of similar vectors to return","example":10},"filter":{"type":"object","additionalProperties":{"nullable":true},"description":"Metadata filter for search results","example":{"category":"document"}}},"title":"SearchRequest","description":"Vector similarity search request"}}}},"responses":{"200":{"description":"Search completed successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":true},"data":{"type":"object","properties":{"matches":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","example":"vec_123"},"score":{"type":"number","example":0.95},"metadata":{"type":"object","additionalProperties":{"nullable":true},"example":{}}},"required":["id","score","metadata"]},"description":"Search result matches"},"count":{"type":"number","description":"Number of matches found","example":5}},"required":["matches","count"]}},"required":["success","data"],"title":"SearchResponse","description":"Vector search response"}}}},"400":{"description":"Invalid request data - vector or text required","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","example":false},"error":{"type":"string","description":"Error message","example":"Invalid request data"}},"required":["success","error"],"title":"ErrorResponse","description":"Error API response"}}}}}}}}}