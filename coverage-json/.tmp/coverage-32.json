{"c:/Users/mtama/node/vector-db/src/schemas/embedding.schema.ts":{"path":"c:/Users/mtama/node/vector-db/src/schemas/embedding.schema.ts","statementMap":{"0":{"start":{"line":2,"column":39},"end":{"line":11,"column":2}},"1":{"start":{"line":12,"column":47},"end":{"line":20,"column":2}},"2":{"start":{"line":21,"column":36},"end":{"line":29,"column":2}},"3":{"start":{"line":30,"column":44},"end":{"line":39,"column":2}},"4":{"start":{"line":40,"column":44},"end":{"line":42,"column":2}},"5":{"start":{"line":43,"column":43},"end":{"line":52,"column":2}},"6":{"start":{"line":53,"column":31},"end":{"line":59,"column":2}},"7":{"start":{"line":60,"column":40},"end":{"line":63,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["C:/Users/mtama/node/vector-db/src/schemas/embedding.schema.ts"],"sourcesContent":["import { z } from '@hono/zod-openapi'\n\n// 埋め込み生成スキーマ\nexport const GenerateEmbeddingSchema = z.object({\n  text: z.string().min(1).openapi({\n    example: 'This is a sample text to generate embeddings',\n    description: '埋め込みを生成するテキスト'\n  }),\n  model: z.string().optional().openapi({\n    example: '@cf/baai/bge-base-en-v1.5',\n    description: '使用するモデル名'\n  })\n})\n\nexport const GenerateEmbeddingResponseSchema = z.object({\n  success: z.boolean(),\n  data: z.object({\n    jobId: z.string(),\n    workflowId: z.string(),\n    status: z.string()\n  }),\n  message: z.string()\n})\n\n// バッチ埋め込み生成スキーマ\nexport const BatchEmbeddingSchema = z.object({\n  texts: z.array(z.string()).min(1).openapi({\n    example: ['Text 1', 'Text 2', 'Text 3'],\n    description: '埋め込みを生成するテキストの配列'\n  }),\n  model: z.string().optional(),\n  batchSize: z.number().int().min(1).max(100).optional(),\n  saveToVectorize: z.boolean().optional()\n})\n\nexport const BatchEmbeddingResponseSchema = z.object({\n  success: z.boolean(),\n  data: z.object({\n    jobId: z.string(),\n    workflowId: z.string(),\n    status: z.string(),\n    textsCount: z.number()\n  }),\n  message: z.string()\n})\n\n// スケジュールバッチ埋め込みスキーマ\nexport const ScheduleBatchEmbeddingSchema = BatchEmbeddingSchema.extend({\n  delayMs: z.number().int().min(0).optional()\n})\n\nexport const ScheduleBatchResponseSchema = z.object({\n  success: z.boolean(),\n  data: z.object({\n    jobId: z.string(),\n    workflowId: z.string().optional(),\n    status: z.string(),\n    textsCount: z.number()\n  }),\n  message: z.string()\n})\n\n// モデル情報スキーマ\nexport const ModelInfoSchema = z.object({\n  name: z.string(),\n  description: z.string(),\n  dimensions: z.number(),\n  maxTokens: z.number(),\n  recommended: z.boolean()\n})\n\nexport const ListModelsResponseSchema = z.object({\n  success: z.boolean(),\n  data: z.array(ModelInfoSchema)\n})\n\n// 型定義のエクスポート\nexport type GenerateEmbedding = z.infer<typeof GenerateEmbeddingSchema>\nexport type GenerateEmbeddingResponse = z.infer<typeof GenerateEmbeddingResponseSchema>\nexport type BatchEmbedding = z.infer<typeof BatchEmbeddingSchema>\nexport type BatchEmbeddingResponse = z.infer<typeof BatchEmbeddingResponseSchema>\nexport type ScheduleBatchEmbedding = z.infer<typeof ScheduleBatchEmbeddingSchema>\nexport type ScheduleBatchResponse = z.infer<typeof ScheduleBatchResponseSchema>\nexport type ModelInfo = z.infer<typeof ModelInfoSchema>\nexport type ListModelsResponse = z.infer<typeof ListModelsResponseSchema>"],"mappings":"AAAA,SAAS,SAAS;AAGX,aAAM,0BAA0B,EAAE,OAAO;AAAA,EAC9C,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,EAAE,QAAQ;AAAA,IAC9B,SAAS;AAAA,IACT,aAAa;AAAA,EACf,CAAC;AAAA,EACD,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ;AAAA,IACnC,SAAS;AAAA,IACT,aAAa;AAAA,EACf,CAAC;AACH,CAAC;AAEM,aAAM,kCAAkC,EAAE,OAAO;AAAA,EACtD,SAAS,EAAE,QAAQ;AAAA,EACnB,MAAM,EAAE,OAAO;AAAA,IACb,OAAO,EAAE,OAAO;AAAA,IAChB,YAAY,EAAE,OAAO;AAAA,IACrB,QAAQ,EAAE,OAAO;AAAA,EACnB,CAAC;AAAA,EACD,SAAS,EAAE,OAAO;AACpB,CAAC;AAGM,aAAM,uBAAuB,EAAE,OAAO;AAAA,EAC3C,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC,EAAE,QAAQ;AAAA,IACxC,SAAS,CAAC,UAAU,UAAU,QAAQ;AAAA,IACtC,aAAa;AAAA,EACf,CAAC;AAAA,EACD,OAAO,EAAE,OAAO,EAAE,SAAS;AAAA,EAC3B,WAAW,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,SAAS;AAAA,EACrD,iBAAiB,EAAE,QAAQ,EAAE,SAAS;AACxC,CAAC;AAEM,aAAM,+BAA+B,EAAE,OAAO;AAAA,EACnD,SAAS,EAAE,QAAQ;AAAA,EACnB,MAAM,EAAE,OAAO;AAAA,IACb,OAAO,EAAE,OAAO;AAAA,IAChB,YAAY,EAAE,OAAO;AAAA,IACrB,QAAQ,EAAE,OAAO;AAAA,IACjB,YAAY,EAAE,OAAO;AAAA,EACvB,CAAC;AAAA,EACD,SAAS,EAAE,OAAO;AACpB,CAAC;AAGM,aAAM,+BAA+B,qBAAqB,OAAO;AAAA,EACtE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,SAAS;AAC5C,CAAC;AAEM,aAAM,8BAA8B,EAAE,OAAO;AAAA,EAClD,SAAS,EAAE,QAAQ;AAAA,EACnB,MAAM,EAAE,OAAO;AAAA,IACb,OAAO,EAAE,OAAO;AAAA,IAChB,YAAY,EAAE,OAAO,EAAE,SAAS;AAAA,IAChC,QAAQ,EAAE,OAAO;AAAA,IACjB,YAAY,EAAE,OAAO;AAAA,EACvB,CAAC;AAAA,EACD,SAAS,EAAE,OAAO;AACpB,CAAC;AAGM,aAAM,kBAAkB,EAAE,OAAO;AAAA,EACtC,MAAM,EAAE,OAAO;AAAA,EACf,aAAa,EAAE,OAAO;AAAA,EACtB,YAAY,EAAE,OAAO;AAAA,EACrB,WAAW,EAAE,OAAO;AAAA,EACpB,aAAa,EAAE,QAAQ;AACzB,CAAC;AAEM,aAAM,2BAA2B,EAAE,OAAO;AAAA,EAC/C,SAAS,EAAE,QAAQ;AAAA,EACnB,MAAM,EAAE,MAAM,eAAe;AAC/B,CAAC;","names":[]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"286b2567c213386e5f4a34b368118ca0a79a91a0"}}